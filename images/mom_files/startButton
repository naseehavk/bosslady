/*GENERATED CODE */icc.cache.startButton=function(icc,environment){designer=false;var args=environment.arguments;window._form_env=environment;var chatminimizedctrl1=new icc.ui.chatminimizedctrl({"hoverShowEffectDuration":200,"out_hoverShowEffectDuration":200,"iconPosition":"LEFT","newMsgsBlinkDuration":500,"out_hoverShadowColor":"#aaaaaa","preview_mode":"ACTIVE","hoverTextContent":"Chat with us","hideEffectType":"slidedown","immovable":true,"shadowSize":12,"y":10,"x":10,"verticalPosition":"BOTTOM","hoverIconPosition":"LEFT","out_hoverHideEffect":false,"out_backgroundEnabled":true,"shadow":false,"out_hoverShadowSize":12,"erasable":false,"hideEffect":false,"out_hoverTextAlign":"LEFT","out_hoverIconPosition":"LEFT","textFont":{"italic":false,"weight":"normal","size":16},"backgroundEnabled":true,"windowDontHide":true,"out_hoverHideEffectDuration":200,"hoverShowEffect":false,"out_windowVisible":true,"out_shadow":true,"overflow":"hidden","out_hoverTextEnabled":true,"out_hoverIconEnabled":true,"windowVisible":true,"out_shadowSize":12,"hoverResize":"EXPAND","newMsgsBlink":true,"newMsgsNumber":true,"nameable":false,"out_shadowColor":"#aaaaaa","background":"#e42149","out_iconPosition":"LEFT","hoverHideEffectDuration":200,"out_iconEnabled":true,"out_hoverShowEffectType":"fade","firstShowEffect":true,"hoverTextEnabled":true,"width":125,"out_hoverTextContent":"Leave a Message","out_hoverChange":false,"height":20,"horizontalPosition":"CENTER","textContent":"\u00BFTienes alguna duda?","out_hoverHideEffectType":"fade","out_textEnabled":true,"showEffectDuration":200,"showEffect":false,"textEnabled":true,"scrollEffectDuration":500,"iconEnabled":true,"out_textContent":"Leave a Message","scrollEffect":false,"firstShowEffectType":"slidedown","out_hoverShowEffect":false,"hoverIconEnabled":true,"showEffectType":"slidedown","hoverShadowColor":"#aaaaaa","out_textAlign":"LEFT","hoverHideEffect":false,"hoverShadowSize":12,"out_hoverResize":"EXPAND","windowSize":"CUSTOM","hoverChange":false,"id":"chatminimizedctrl1","hoverShowEffectType":"fade","hoverBackgroundEnabled":true,"hoverHideEffectType":"fade","hideEffectDuration":200,"hoverTextAlign":"LEFT","out_hoverShadow":true,"firstShowEffectDuration":500,"shadowColor":"#aaaaaa","textAlign":"LEFT","out_hoverBackgroundEnabled":true,"hoverShadow":true},environment);;var chatminimizedctrl=new icc.ui.chatminimizedctrl({"hoverShowEffectDuration":200,"out_hoverShowEffectDuration":200,"iconPosition":"TOP","newMsgsBlinkDuration":500,"out_hoverShadowColor":"#aaaaaa","preview_mode":"ACTIVE","hoverHideEffect":false,"hideEffectType":"slidedown","immovable":true,"shadowSize":12,"y":0,"x":0,"verticalPosition":"TOP","hoverIconPosition":"LEFT","out_hoverHideEffect":false,"out_backgroundEnabled":false,"shadow":false,"out_hoverShadowSize":12,"erasable":false,"hideEffect":false,"out_hoverTextAlign":"LEFT","out_hoverIconPosition":"LEFT","textFont":{"italic":false,"weight":"normal","size":16},"backgroundEnabled":false,"windowDontHide":true,"out_hoverHideEffectDuration":200,"hoverShowEffect":false,"out_windowVisible":true,"out_shadow":false,"overflow":"hidden","out_hoverTextEnabled":true,"out_hoverIconEnabled":true,"windowVisible":true,"out_shadowSize":12,"hoverResize":"EXPAND","newMsgsBlink":true,"newMsgsNumber":true,"nameable":false,"out_shadowColor":"#aaaaaa","iconImage":"Mk_live chat.svg","out_hoverTextContent":"Leave a Message","hoverHideEffectDuration":200,"out_hoverShowEffectType":"fade","hoverChange":false,"hoverTextEnabled":true,"out_iconEnabled":true,"width":145,"height":50,"horizontalPosition":"RIGHT","out_iconPosition":"LEFT","showEffect":false,"out_hoverBackgroundEnabled":true,"hoverIconEnabled":true,"showEffectDuration":200,"textEnabled":false,"out_hoverShadow":true,"iconEnabled":true,"scrollEffectDuration":500,"scrollEffect":false,"firstShowEffectType":"slideup","out_hoverShowEffect":false,"hoverTextContent":"Chat with us","showEffectType":"slidedown","hoverShadowColor":"#aaaaaa","out_textEnabled":false,"out_textAlign":"LEFT","hoverShadowSize":12,"out_hoverResize":"EXPAND","windowSize":"CUSTOM","hoverTextAlign":"LEFT","id":"chatminimizedctrl","hoverShowEffectType":"fade","hoverBackgroundEnabled":false,"hoverHideEffectType":"fade","firstShowEffect":true,"hideEffectDuration":200,"out_hoverHideEffectType":"fade","firstShowEffectDuration":500,"shadowColor":"#aaaaaa","textAlign":"CENTER","out_hoverChange":false,"hoverShadow":true},environment);;var startButton=new icc.ui.panel({"childs":[chatminimizedctrl1,chatminimizedctrl],"fillWidth":true,"id":"startButton","class":"___start_button","version":2,"name":"startButton","overflow":"visible","notSelectable":true,"formType":"form","fillHeight":true},environment);;var self=startButton;
/* global designer, self, iFrameEventListener, chatminimizedctrl */

if(!designer){
	
    self.onReady(function() {
		chatminimizedctrl.start();
    });
}
self.onReady(function(){  
    $("i.chatMinimizedIcon.iconChatHeader").addClass("iconDesktop");
$('.chatMinimizedCtrl').attr('tabindex',0);
    $('.chatMinimizedCtrl').on('keypress', function(e) {
        if(e.which === 13) {
            $('.chatMinimizedCtrl').click();
            }
        });  
});
  
  
self.onReady(() => {
    emitEvent("inConcertStartButtonShowed") 
    const btn = document.getElementById('chatminimizedctrl')
    btn.addEventListener('click', () => { emitEvent('inConcertStartButtonClicked') })
})
  
  
  
function emitEvent(eventName) {
    let payload = {
        "event": eventName,
        "interaction": {
            
            "notify": args?.notify,
            "type": "chat",
            "AppName": icc.ui.getApplication().getName(),
            "serverTimeUTC": icc.ui.getApplication().settings.serverTimeUTC,
        },
        "dataLayer": true
    }
    //console.log(payload)
    window.parent.postMessage(payload, '*')
}
// END USER CODE
 return startButton;};