(()=>{"use strict";var t,e=function(t,e,r){this.status=t,this.responseText=e,this.responseHeaders=r||[]},r=function(){function t(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null),this.onSuccess=t,this.onErrorFunc=e,this.onCompletedFunc=r,this.onSuccessFunctions=[],this.onErrorFunctions=[],this.onCompletedFunctions=[],this.finalResult=null,this.onSuccessFunctions.push(t),this.onErrorFunctions.push(e),this.onCompletedFunctions.push(r)}return t.prototype.addFunction=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null),this.onSuccessFunctions.push(t),this.onErrorFunctions.push(e),this.onCompletedFunctions.push(r)},t.prototype.onNext=function(t){this.finalResult=t;var e=[];this.onSuccessFunctions.forEach((function(r){try{r(t)}catch(t){e.push(t)}})),e.length>0&&this.onError(1==e.length?e[0]:e)},t.prototype.onCompleted=function(){var t=[];this.onCompletedFunctions.forEach((function(e){try{e&&e()}catch(e){t.push(e)}if(t.length>0)throw 1==t.length?t[0]:t}))},t.prototype.onError=function(t){var e=[];this.onErrorFunctions.forEach((function(r){try{r&&r(t)}catch(t){e.push(t)}if(e.length>0)throw 1==e.length?e[0]:e}))},t}(),n=function(){function t(t){this.result=null,this.observableFunc=t}return t.prototype.subscribeObservable=function(t){this.observableFunc(t)},t.prototype.subscribe=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),this.functionObserver&&this.functionObserver.finalResult?t(this.functionObserver.finalResult):this.functionObserver?this.functionObserver.addFunction(t,e,n):(this.functionObserver=new r(t,e,n),this.observableFunc(this.functionObserver))},t.prototype.map=function(e){var n=this;return new t((function(t){var o=new r((function(r){try{t.onNext(e(r))}catch(e){t.onError(e)}}),(function(e){t.onError(e)}),(function(){t.onCompleted()}));n.subscribeObservable(o)}))},t.of=function(e){return new t((function(t){t.onNext(e),t.onCompleted()}))},t}(),o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},i=function(){function t(t){this.logger=t}return t.prototype.Get=function(t,e,r,n){return void 0===e&&(e={}),void 0===r&&(r=!1),void 0===n&&(n=null),this.MakeCall(t,"GET",e,r,null,n)},t.prototype.Post=function(t,e,r,n){return void 0===e&&(e={}),void 0===r&&(r=!1),void 0===n&&(n=null),this.MakeCall(t,"POST",e,r,n)},t.prototype.Delete=function(t,e,r,n){return void 0===e&&(e={}),void 0===r&&(r=!1),void 0===n&&(n=null),this.MakeCall(t,"DELETE",e,r,n)},t.prototype.Put=function(t,e,r,n){return void 0===e&&(e={}),void 0===r&&(r=!1),void 0===n&&(n=null),this.MakeCall(t,"PUT",e,r,n)},t.prototype.MakeCall=function(t,r,i,s,a,c){var u=this;void 0===i&&(i={}),void 0===s&&(s=!1),void 0===a&&(a=null);var g=new XMLHttpRequest;return s&&(g.withCredentials=!0),c&&(g.responseType=c),new n((function(n){u.logger&&u.logger.debug("Request to: "+t),g.onload=function(){try{var r=void 0;if(c&&"document"===c)r=g.response.body.innerHTML;else{var o=g.getAllResponseHeaders().trim().split(/[\r\n]+/),i={};o.forEach((function(t){var e=t.split(": "),r=e.shift(),n=e.join(": ");i[r]=n})),r=new e(g.status,g.responseText,i)}if(g.status>=200&&g.status<400)return void n.onNext(r);u.logger&&u.logger.error("("+r.status+') Error in call to "'+t+'"',r),n.onError(r)}catch(t){return void n.onError(t)}},g.open(r,t,!0);var s=o(o({},{"Content-Type":"application/json",Accept:"application/json"}),i);Object.keys(s).forEach((function(t){g.setRequestHeader(t,s[t])})),a?"application/json"==s["Content-Type"]?g.send(JSON.stringify(a)):g.send(a):g.send()}))},t}(),s=function(){this.entity=new i(null)},a=function(){function t(t,e){this._charityBaseUrl=e,this.http=t}return t.prototype.searchCharities=function(t,e,r,n,o,i){var s=this;void 0===e&&(e=1),void 0===o&&(o=20);var a=(e-1)*o;r=r.toLowerCase();var c=isNaN(Number(n))||0==Number(n)?null:Number(n),u=isNaN(Number(n))?n.toLowerCase():null,g=this._charityBaseUrl+"/search?skip="+a+"&take="+o;return t&&(g+="&q="+t),r&&(g+="&state="+r),u?g+="&city="+u:c&&(g+="&zip="+c),window.sgObservables.getCharities.searchedCharities[g]||(window.sgObservables.getCharities.searchedCharities[g]=this.http.Get(g,{"x-store-id":i},!1).map((function(t){if(200==t.status){var e=JSON.parse(t.responseText);return e.map((function(t){t.state&&"-1"!=t.state||(t.state=null),t.city=s.titleCase(t.city);for(var e=t.ein.toString();e.length<9;)e="0"+e;t.displayEin=e.slice(0,2)+"-"+e.slice(2)})),e}throw"Error retrieving charities from search: "+t.responseText}))),window.sgObservables.getCharities.searchedCharities[g]},t.prototype.getByEins=function(t,e){var r=this,n=this._charityBaseUrl+"/search-by-eins?eins="+t;return window.sgObservables.getCharities.charities[n]||(window.sgObservables.getCharities.charities[n]=this.http.Get(n,{"x-store-id":e},!1).map((function(t){if(200==t.status){var e=JSON.parse(t.responseText);return e.map((function(t){t.state&&"-1"!=t.state||(t.state=null),t.zip||(t.zip=null),t.city=r.titleCase(t.city);for(var e=t.ein.toString();e.length<9;)e="0"+e;t.displayEin=e.slice(0,2)+"-"+e.slice(2)})),e}throw"Error retrieving charities: "+t.responseText}))),window.sgObservables.getCharities.charities[n]},t.prototype.titleCase=function(t){if(t)return t.toLowerCase().split(" ").map((function(t){if(t)return t.replace(t[0],t[0].toUpperCase())})).join(" ")},t}(),c="https://tracking.api.shoppinggives.com",u=function(){function t(t,e,r){this._portfolioBaseUrl=e,this.http=t}return t.prototype.queryPortfolios=function(t){return window.sgObservables.getPortfolios.portfolios[t]||(window.sgObservables.getPortfolios.portfolios[t]=this.http.Get(this._portfolioBaseUrl+"/cc-query?id="+t,null,!1).map((function(t){if(200==t.status)return JSON.parse(t.responseText);throw"Error retrieving portfolios : "+t.responseText}))),window.sgObservables.getPortfolios.portfolios[t]},t.prototype.getPortfolioById=function(t){return window.sgObservables.getPortfolios.singlePortfolio[t]||(window.sgObservables.getPortfolios.singlePortfolio[t]=this.http.Get(this._portfolioBaseUrl+"/"+t,null,!1).map((function(t){if(200==t.status)return JSON.parse(t.responseText);throw"Error retrieving portfolios : "+t.responseText}))),window.sgObservables.getPortfolios.singlePortfolio[t]},t}(),g=function(){function e(t,e,r,n){void 0===e&&(e=null),void 0===n&&(n=!1),this.http=r,this.minLevelInclusive=e,this.debugMode=n,this.trackingBaseUrl=t}return e.setDebugModeOn=function(){e.debugMode=!0},e.prototype.debug=function(r){(e.debugMode||!this.minLevelInclusive||this.minLevelInclusive<=t.debug)&&console.log("DEBUG: "+(new Date).toISOString()+" - "+r)},e.prototype.warning=function(r,n){(e.debugMode||!this.minLevelInclusive||this.minLevelInclusive<=t.warning)&&console.log("WARNING: "+(new Date).toISOString()+" - "+r)},e.prototype.error=function(t,e){var r={};if(r.highlevelError=t,r.message=e&&e.message?e.message:JSON.stringify(e),r.stack=e&&e.stack?e.stack:null,r.sgErrorUrl=window.location.href,console.log("%c ERROR: "+(new Date).toISOString()+" - "+t+": "+JSON.stringify(r),"background: #FF0000"),navigator&&navigator.userAgent){if(navigator.userAgent.includes("ads")||navigator.userAgent.includes("bot"))return;r.userAgent=navigator.userAgent}try{this.http.Post(this.trackingBaseUrl+"/error-report",{"content-type":"application/json"},!1,r).subscribe((function(t){}),(function(t){console.log("Error reporting error!",t)}))}catch(t){console.log("Error reporting error",t)}},e.debugMode=!1,e}();!function(t){t[t.debug=0]="debug",t[t.warning=1]="warning",t[t.error=2]="error"}(t||(t={}));var l,d=function(){function t(){this.debugMode=!1,this.entity=new g(c,2,(new s).entity,this.debugMode)}return t.prototype.setDebugMode=function(){return this.debugMode=!0,this},t}(),p=function(){function t(t){this.logger=t}return t.prototype.setTrackingId=function(t,e){void 0===t&&(t=null);var r=e.replace(/-/g,"").toLowerCase();try{if(t)try{sessionStorage.setItem("sg.sid-"+r,btoa(t)),window.name=""}catch(e){this.logger.warning("Unable to set item in sessionStorage, setting window",e),window.name=btoa(t)}else sessionStorage.removeItem("sg.sid-"+r),window.name=""}catch(t){this.logger.error("Error setting session id to session storage",t)}},t.prototype.getTrackingId=function(t){try{var e=void 0,r=t.replace(/-/g,"").toLowerCase();try{e=sessionStorage.getItem("sg.sid-"+r),window.name=""}catch(t){return this.logger.warning("Couldn't retrieve tracking id from session storage, trying window.name.",t),atob(window.name)}if(e)return atob(e);if(window.name)try{return atob(window.name)}catch(t){this.logger.error("Failed to run atob on window.name",t)}}catch(t){this.logger.error("Error retrieving session id from session storage.",t)}return null},t.prototype.setStoreObject=function(t,e){var r=e.replace(/-/g,"").toLowerCase();try{t?sessionStorage.setItem("sg.sobj-"+r,btoa(encodeURIComponent(JSON.stringify(t)))):sessionStorage.removeItem("sg.sobj-"+r)}catch(t){this.logger.error("Error setting store object to session storage",t)}},t.prototype.getStoreObject=function(t){var e=t.replace(/-/g,"").toLowerCase();try{var r=sessionStorage.getItem("sg.sobj-"+e);if(r)return JSON.parse(decodeURIComponent(atob(r)))}catch(t){this.logger.error("Error getting store object from session storage",t)}return null},t.prototype.setUrlCause=function(t){try{t?sessionStorage.setItem("sg-url-cause",t):sessionStorage.removeItem("sg-url-cause")}catch(t){this.logger.error("Error setting cause object to session storage",t)}},t.prototype.getUrlCause=function(){try{return sessionStorage.getItem("sg-url-cause")||null}catch(t){this.logger.error("Error getting cause object from session storage",t)}return null},t.prototype.setThankyouEmbedTarget=function(t){try{t?sessionStorage.setItem("thankyou-embed-target",t):sessionStorage.removeItem("thankyou-embed-target")}catch(t){this.logger.error("Error setting thankyou embed target to session storage",t)}},t.prototype.getThankyouEmbedTarget=function(){try{return sessionStorage.getItem("thankyou-embed-target")||null}catch(t){this.logger.error("Error getting thankyou embed target from session storage",t)}return null},t.prototype.setTrackingLoaded=function(t){try{if(t)try{sessionStorage.setItem("sg-tracking-loaded","true")}catch(t){this.logger.warning("Unable to set tracking loaded in sessionStorage",t)}else sessionStorage.removeItem("sg-tracking-loaded")}catch(t){this.logger.error("Error setting tracking loaded to session storage",t)}},t.prototype.getTrackingLoaded=function(){try{try{if(sessionStorage.getItem("sg-tracking-loaded"))return!0}catch(t){return this.logger.warning("Couldn't retrieve tracking loaded from session storage, trying window.name.",t),!1}}catch(t){this.logger.error("Error retrieving tracking loaded from session storage.",t)}return null},t.prototype.setConfirmationData=function(t){try{t?sessionStorage.setItem("sg-confirmation",JSON.stringify(t)):sessionStorage.removeItem("sg-confirmation")}catch(t){this.logger.error("Error setting confirmation data to session storage",t)}},t.prototype.getConfirmationData=function(){try{return sessionStorage.getItem("sg-confirmation")||null}catch(t){this.logger.error("Error getting confirmation data from session storage",t)}return null},t}(),h=function(){function t(t,e){this.http=t,this._trackingBaseUrl=e}return t.prototype.startTracking=function(t,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!1),this.http.Post(this._trackingBaseUrl+"/",{},!0,{storeId:t,isTestMode:e,isForceTestMode:r}).map((function(t){if(200==t.status)return JSON.parse(t.responseText);throw"Error starting tracking:"+JSON.stringify(t)}))},t.prototype.getTracking=function(t){return this.http.Get(this._trackingBaseUrl+"/"+t+"/cause",{},!1).map((function(t){if(200==t.status)return JSON.parse(t.responseText);throw"Error starting tracking:"+JSON.stringify(t)}))},t.prototype.setCause=function(t,e,r){return this.http.Put(this._trackingBaseUrl+"/"+t+"/set-cause",{},!1,{causeId:e,causeName:r}).map((function(t){if(200==t.status)return JSON.parse(t.responseText);throw"Error starting tracking:"+JSON.stringify(t)}))},t}(),f=function(){function t(){}return t.prototype.getUrlParams=function(t){if(t){for(var e=document.getElementsByTagName("script"),r=0;r<e.length;r++)if(e[r].id==t)return this.getQueryParams(e[r].src);return null}return this.getQueryParams(window.location.href)},t.prototype.getCurrentScript=function(t){try{if(document.currentScript)return document.currentScript;if(document._currentScript)return document._currentScript()}catch(t){}for(var e=document.scripts.length-1;e>=0;e--)if((document.scripts[e].src.indexOf("shoppinggives.com")>=0||document.scripts[e].src.indexOf("../")>=0||document.scripts[e].src.indexOf("http://localhost")>=0)&&(!t||document.scripts[e].src.indexOf(t)>=0))return document.scripts[e];return null},t.prototype.getCurrentScriptUrlParams=function(t){void 0===t&&(t=null);var e=this.getCurrentScript(t);return e?this.getQueryParams(e.src):null},t.prototype.getQueryParams=function(t){if(!(t=t.split("?")[1]))return{};for(var e=t.split("&"),r={},n=0;n<e.length;n++){var o=e[n].split("=");r[o[0]]=o[1]}return r},t}();!function(t){t[t.Portfolio=0]="Portfolio",t[t.Fundraiser=1]="Fundraiser",t[t.Charity=2]="Charity"}(l||(l={}));var v,m,w,y=function(){function t(t,e,r,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null),this.causeId=t,this.causeName=e,this.causeType=r,n&&(this.multiplier=n)}return t.formatToCauseModel=function(e){var r=new t;return r.causeId=e.ein?e.ein:e.id.toString().replace(/-/g,""),r.causeName=e.name,e.ein?r.causeType=l.Charity:l.Portfolio,e.multiplier&&(r.multiplier=e.multiplier),r},t}(),b=function(){function t(){}return t.publishEvent=function(t,e,r){var n=new C(t,e,r),o=JSON.stringify(n);window.postMessage(o,"*")},t.subscribeToEvent=function(t,e){var r=this;return new n((function(n){r.subjectDict[t]||(r.subjectDict[t]={}),r.subjectDict[t][e]||(r.subjectDict[t][e]=[]),r.subjectDict[t][e].push(n),r.listeningStarted||(r.listeningStarted=!0,window.addEventListener("message",(function(t){var e=null;try{e=JSON.parse(t.data)}catch(t){return}e&&r.subjectDict[e.eventName]&&("*"!=e.targetWidgetId&&e.targetWidgetId?r.subjectDict[e.eventName][e.targetWidgetId].forEach((function(t){t.onNext(e.payload)})):Object.keys(r.subjectDict[e.eventName]).forEach((function(t){r.subjectDict[e.eventName][t].forEach((function(t){t.onNext(e.payload)}))})))})))}))},t.unsubscribe=function(t,e,r){this.subjectDict[t][e].indexOf(r)>=0&&this.subjectDict[t][e].splice(this.subjectDict[t][e].splice(r)),r=null},t.subjectDict={},t.listeningStarted=!1,t}(),C=function(t,e,r){this.eventName=t,this.targetWidgetId=e,this.payload=r},k=function(){function t(t,e,r,n,o,i){this.logger=t,this.persistenceCache=e,this.trackingDataAdapter=r,this.portfolioDataAdapter=n,this.causeDataAdapter=o,this.storeId=i}return t.prototype.Load=function(t,e,r,n){var o=this;void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===n&&(n=!1);var i,s=new URLSearchParams(window.location.search);s&&(i=s.get("sgcause"))&&this.persistenceCache.setUrlCause(i);var a=this.persistenceCache.getTrackingId(t);this.logger.debug("tracking id: "+a),a?this.trackingDataAdapter.getTracking(a).subscribe((function(r){r.trackingId=a,e&&(r.isTestMode=!0),window.sgTracking=new S(r),o.logger.debug("Found tracking, emiting trackingAdded : "+JSON.stringify(r)),b.publishEvent("trackingAdded","*",new S(r)),o.checkUrlParamsForCause(a,t)}),(function(i){r?o.logger.debug("Tracking is disabled."):(o.logger.warning("Error getting tracking info, starting new tracking.",i),o.trackingDataAdapter.startTracking(t,e,n).subscribe((function(r){o.persistenceCache.setTrackingId(r.trackingId,t),e&&(r.isTestMode=!0),window.sgTracking=new S(r),o.logger.debug("Started tracking, emiting trackingAdded : "+JSON.stringify(r)),b.publishEvent("trackingAdded","*",new S(r)),o.checkUrlParamsForCause(r.trackingId,t)}),(function(t){o.logger.error("Error starting tracking after failing to get initial tracking.",t)})))})):r||this.trackingDataAdapter.startTracking(t,e,n).subscribe((function(r){o.persistenceCache.setTrackingId(r.trackingId,t),e&&(r.isTestMode=!0),window.sgTracking=new S(r),o.logger.debug("Started tracking, emiting trackingAdded : "+JSON.stringify(r)),b.publishEvent("trackingAdded","*",new S(r)),o.checkUrlParamsForCause(r.trackingId,t)}),(function(t){o.logger.error("Error starting tracking after failing to get initial tracking.",t)}))},t.prototype.checkUrlParamsForCause=function(t,e){var r=this.persistenceCache.getUrlCause();r||(r=new URLSearchParams(window.location.search).get("sgcause")),r&&this.getNewCause(r,t,e)},t.prototype.getNewCause=function(t,e,r){t.match(/^[0-9/-]{1,31}$/g)?this.getNonprofit(t,e,r):t.match(/^[0-9a-fA-F/-]{32}$/g)&&this.getPortfolio(t,e)},t.prototype.getPortfolio=function(t,e){var r=this;this.portfolioDataAdapter.getPortfolioById(t).subscribe((function(t){r.setNewCause(t.id,t.name,t,e)}),(function(t){r.logger.error('Error retreiving portfolio from "sg-cause" url param',t)}))},t.prototype.getNonprofit=function(t,e,r){var n=this;this.causeDataAdapter.getByEins(t,r).subscribe((function(t){var r=t[0];r?n.setNewCause(r.ein,r.name,r,e):n.logger.error('Error retreiving nonprofit from "sg-cause" url param',null)}),(function(t){n.logger.error('Error retreiving nonprofit from "sg-cause" url param',t)}))},t.prototype.setNewCause=function(t,e,r,n){var o=this,i=y.formatToCauseModel(r);this.trackingDataAdapter.setCause(n,t,e).subscribe((function(t){o.persistenceCache.setUrlCause(null),b.publishEvent("causeUpdated","*",i)}),(function(t){o.logger.error("Error setting new cause from tracking loader.",t)}))},t}(),S=function(t){this.trackingId=t.TrackingId?t.TrackingId:t.trackingId?t.trackingId:null,this.isTestMode=t.IsTestMode?t.IsTestMode:t.isTestMode?t.isTestMode:null,this.causeId=t.CauseId?t.CauseId:t.causeId?t.causeId:null,this.causeName=t.CauseName?t.CauseName:t.causeName?t.causeName:null};!function(t){t[t.Init=0]="Init",t[t.WaitingForElement=1]="WaitingForElement",t[t.ElementNotFound=2]="ElementNotFound",t[t.FoundElement=3]="FoundElement"}(v||(v={})),function(t){t[t.loading=0]="loading",t[t.chosen=1]="chosen",t[t.unselected=2]="unselected"}(m||(m={})),function(t){t[t.default=0]="default",t[t.nonprofit=1]="nonprofit",t[t.portfolio=2]="portfolio"}(w||(w={})),window.sgObservables||(window.sgObservables={getStore:{stores:{}},getDonations:{donations:{},donationsData:{}},getCharities:{charities:{},charityData:{},searchedCharities:{}},getPortfolios:{portfolios:{},singlePortfolio:{}}});var E=function(){function t(t,e,r){this._storeBaseUrl=e,this.http=t}return t.prototype.getStore=function(t){var e=this;return window.sgObservables.getStore.stores[t]||(window.sgObservables.getStore.stores[t]=this.http.Get(this._storeBaseUrl+"/cc-small/none",{"x-store-id":t},!0,null).map((function(r){if(200==r.status){var n=e.toCamelCase(JSON.parse(r.responseText));return"True"===r.responseHeaders["x-preview-mode"]?n.previewWidget=!0:n.previewWidget=!1,"True"===r.responseHeaders["x-round-up-preview-mode"]?n.roundUpPreviewWidget=!0:n.roundUpPreviewWidget=!1,n}throw"Error retrieving store w/ id "+t+" : "+r.responseText}))),window.sgObservables.getStore.stores[t]},t.prototype.removeStorePreviewCookie=function(t){return this.http.Delete(this._storeBaseUrl+"/remove-preview-mode-cookie",{"x-store-id":t},!0,{}).map((function(t){return t}))},t.prototype.removeRoundUpPreviewCookie=function(t){return this.http.Delete(this._storeBaseUrl+"/remove-round-up-preview-mode-cookie",{"x-store-id":t},!0,{}).map((function(t){return t}))},t.prototype.doesStoreHaveSingleFeaturedDefaultCauseAndSearchOff=function(t,e){return!(!e||!t.featuredCauseIds||1!==t.featuredCauseIds.length||t.featuredCauseIds[0]!==e.causeId||t.searchEnabled)},t.prototype.isCauseIdNonprofit=function(t){return!!t.match(/^[0-9/-]{1,31}$/g)},t.prototype.isCauseIdPorfolio=function(t){return!!t.match(/^[0-9a-fA-F/-]{32}$/g)},t.prototype.getLearnMoreModalType=function(t){return this.isCauseIdNonprofit(t)?w.nonprofit:this.isCauseIdPorfolio(t)?w.portfolio:void 0},t.prototype.toCamelCase=function(t){var e,r,n,o,i=this;if(t instanceof Array)return t.map((function(t){return"object"==typeof t&&(t=i.toCamelCase(t)),t}));for(r in e={},t)t.hasOwnProperty(r)&&(n=(r.charAt(0).toLowerCase()+r.slice(1)||r).toString(),((o=t[r])instanceof Array||null!==o&&o.constructor===Object)&&(o=this.toCamelCase(o)),e[n]=o);return e},t}(),I=(new d).entity;try{var O=(new function(){this.entity=new h((new s).entity,c)}).entity,T=(new function(){this.entity=new p((new d).entity)}).entity,N=(new function(){this.entity=new u((new s).entity,"https://portfolios.api.shoppinggives.com",(new d).entity)}).entity,P=(new function(){this.entity=new a((new s).entity,"https://charities.api.shoppinggives.com")}).entity,U=(new function(){this.entity=new E((new s).entity,"https://stores.api.shoppinggives.com",(new d).entity)}).entity,D=(new f).getCurrentScriptUrlParams();if(!T.getTrackingLoaded()){T.setTrackingLoaded(!0),"true"!=D.debug&&"true"!=localStorage.getItem("shoppinggives-debug")||g.setDebugModeOn();var F=D.sid,j=D["test-mode"];j=!(!j||"true"!=j.toLowerCase()&&1!=j);var x=new k(I,T,O,N,P,F),M=!1;U.getStore(F).subscribe((function(t){t.isActive&&t.isExperienceActive||t.previewWidget||t.roundUpPreviewWidget||(M=!0),T.setTrackingLoaded(null),x.Load(F,j,M,!1)}))}}catch(t){I.error("Uncaught error",t)}})();